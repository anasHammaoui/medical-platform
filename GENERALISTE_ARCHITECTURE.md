# ğŸ¯ GÃ‰NÃ‰RALISTE MODULE - VISUAL ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GÃ‰NÃ‰RALISTE MODULE ARCHITECTURE                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸŒ WEB LAYER (JSP)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  dashboard.jsp     â”ƒ  â”ƒ  consultation.jsp  â”ƒ  â”ƒ demande-expertiseâ”ƒ  â”‚
â”‚  â”ƒ                    â”ƒ  â”ƒ                    â”ƒ  â”ƒ      .jsp        â”ƒ  â”‚
â”‚  â”ƒ â€¢ Waiting patients â”ƒ  â”ƒ â€¢ Patient info     â”ƒ  â”ƒ â€¢ Specialists    â”ƒ  â”‚
â”‚  â”ƒ â€¢ Recent consults  â”ƒ  â”ƒ â€¢ Vital signs      â”ƒ  â”ƒ â€¢ Creneaux       â”ƒ  â”‚
â”‚  â”ƒ â€¢ Statistics       â”ƒ  â”ƒ â€¢ 3 Forms:         â”ƒ  â”ƒ â€¢ Interactive    â”ƒ  â”‚
â”‚  â”ƒ â€¢ Start button     â”ƒ  â”ƒ   - Save obs.      â”ƒ  â”ƒ   selection      â”ƒ  â”‚
â”‚  â”ƒ                    â”ƒ  â”ƒ   - Complete       â”ƒ  â”ƒ â€¢ Create demande â”ƒ  â”‚
â”‚  â”ƒ                    â”ƒ  â”ƒ   - Request spec.  â”ƒ  â”ƒ                  â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚           â”‚                        â”‚                        â”‚            â”‚
â”‚           â”‚                        â”‚                        â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                        â”‚                        â”‚
            â”‚                        â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           â”‚          ğŸ® SERVLET LAYER (Controller)          â”‚            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                        â”‚                        â”‚            â”‚
â”‚  â”â”â”â”â”â”â”â”â”â–¼â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”â”â”â”â”â”â”â”â–¼â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–¼â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ GeneralisteServlet  â”ƒ  â”ƒ   ConsultationDetailServlet           â”ƒ  â”‚
â”‚  â”ƒ                     â”ƒ  â”ƒ                                        â”ƒ  â”‚
â”‚  â”ƒ doGet():            â”ƒ  â”ƒ doGet():                               â”ƒ  â”‚
â”‚  â”ƒ â€¢ Load dashboard    â”ƒ  â”ƒ â€¢ Load consultation                    â”ƒ  â”‚
â”‚  â”ƒ â€¢ Filter patients   â”ƒ  â”ƒ â€¢ Set specialties/priorities          â”ƒ  â”‚
â”‚  â”ƒ   (Stream API)      â”ƒ  â”ƒ                                        â”ƒ  â”‚
â”‚  â”ƒ                     â”ƒ  â”ƒ doPost():                              â”ƒ  â”‚
â”‚  â”ƒ doPost():           â”ƒ  â”ƒ â€¢ saveObservations                     â”ƒ  â”‚
â”‚  â”ƒ â€¢ startConsultation â”ƒ  â”ƒ â€¢ complete                             â”ƒ  â”‚
â”‚  â”ƒ                     â”ƒ  â”ƒ â€¢ requestSpecialist                    â”ƒ  â”‚
â”‚  â”ƒ                     â”ƒ  â”ƒ â€¢ createDemande                        â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”›  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚            â”‚                            â”‚                            â”‚
â”‚            â”‚                            â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                            â”‚
             â”‚                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â”‚       ğŸ’¼ SERVICE LAYER (Business Logic)    â”‚            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                            â”‚                            â”‚
â”‚      â”â”â”â”â”â”â–¼â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–¼â”â”â”â”â”â”â”â”â”â”â”“                â”‚
â”‚      â”ƒ      ConsultationService                    â”ƒ                â”‚
â”‚      â”ƒ                                              â”ƒ                â”‚
â”‚      â”ƒ â€¢ createConsultation()                      â”ƒ                â”‚
â”‚      â”ƒ â€¢ updateConsultation()                      â”ƒ                â”‚
â”‚      â”ƒ â€¢ getConsultation()                         â”ƒ                â”‚
â”‚      â”ƒ â€¢ getConsultationsByGeneraliste()           â”ƒ                â”‚
â”‚      â”ƒ â€¢ getSpecialistesBySpecialite()             â”ƒ                â”‚
â”‚      â”ƒ   (delegates to SpecialisteDao)             â”ƒ                â”‚
â”‚      â”ƒ â€¢ createDemandeExpertise()                  â”ƒ                â”‚
â”‚      â”ƒ   (sets bidirectional relationship)         â”ƒ                â”‚
â”‚      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›                â”‚
â”‚                            â”‚                                         â”‚
â”‚                            â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚   ğŸ—„ï¸ DAO LAYER (Data Access)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                         â”‚
â”‚    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–¼â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“            â”‚
â”‚    â”ƒ           ConsultationDao                         â”ƒ            â”‚
â”‚    â”ƒ                                                    â”ƒ            â”‚
â”‚    â”ƒ â€¢ createConsultation()                            â”ƒ            â”‚
â”‚    â”ƒ â€¢ updateConsultation()                            â”ƒ            â”‚
â”‚    â”ƒ â€¢ getConsultation() - LEFT JOIN FETCH            â”ƒ            â”‚
â”‚    â”ƒ â€¢ getConsultationsByGeneraliste()                â”ƒ            â”‚
â”‚    â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›            â”‚
â”‚                                                                      â”‚
â”‚    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“            â”‚
â”‚    â”ƒ           SpecialisteDao                          â”ƒ            â”‚
â”‚    â”ƒ                                                    â”ƒ            â”‚
â”‚    â”ƒ â€¢ getSpecialistesBySpecialite()                   â”ƒ            â”‚
â”‚    â”ƒ   - JPQL: ORDER BY tarif ASC                      â”ƒ            â”‚
â”‚    â”ƒ   - Returns sorted list (cheapest first)          â”ƒ            â”‚
â”‚    â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›            â”‚
â”‚                                                                      â”‚
â”‚    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“            â”‚
â”‚    â”ƒ         DemandeExpertiseDao                       â”ƒ            â”‚
â”‚    â”ƒ                                                    â”ƒ            â”‚
â”‚    â”ƒ â€¢ createDemande()                                 â”ƒ            â”‚
â”‚    â”ƒ â€¢ updateDemande()                                 â”ƒ            â”‚
â”‚    â”ƒ â€¢ getDemande()                                    â”ƒ            â”‚
â”‚    â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›            â”‚
â”‚                            â”‚                                         â”‚
â”‚                            â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚   ğŸ—‚ï¸ ENTITY LAYER (Domain Model)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    â”‚   Consultation     â”‚â—„â”€â”¼â”€â”€â”¤ DemandeExpertise   â”‚                â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚    â”‚ â€¢ id               â”‚  â”‚  â”‚ â€¢ id               â”‚                â”‚
â”‚    â”‚ â€¢ date             â”‚  â”‚  â”‚ â€¢ question         â”‚                â”‚
â”‚    â”‚ â€¢ motif            â”‚  â”‚  â”‚ â€¢ status           â”‚                â”‚
â”‚    â”‚ â€¢ observations     â”‚  â”‚  â”‚ â€¢ prioritee        â”‚                â”‚
â”‚    â”‚ â€¢ diagnostic       â”‚  â”‚  â”‚ â€¢ dateDemande      â”‚                â”‚
â”‚    â”‚ â€¢ traitement       â”‚  â”‚  â”‚ â€¢ avisMedecin      â”‚                â”‚
â”‚    â”‚ â€¢ status           â”‚  â”‚  â”‚                    â”‚                â”‚
â”‚    â”‚ â€¢ cout (150 DH)    â”‚  â”‚  â”‚ @OneToOne          â”‚                â”‚
â”‚    â”‚                    â”‚  â”‚  â”‚ consultation       â”‚                â”‚
â”‚    â”‚ @OneToOne          â”‚  â”‚  â”‚                    â”‚                â”‚
â”‚    â”‚ demandeExpertise â”€â”€â”¼â”€â”€â”¼â”€â–ºâ”‚ @OneToOne          â”‚                â”‚
â”‚    â”‚                    â”‚  â”‚  â”‚ creneau            â”‚                â”‚
â”‚    â”‚ @ManyToOne         â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚    â”‚ generaliste        â”‚  â”‚                                         â”‚
â”‚    â”‚                    â”‚  â”‚                                         â”‚
â”‚    â”‚ @ManyToOne         â”‚  â”‚                                         â”‚
â”‚    â”‚ dossierMedical     â”‚  â”‚                                         â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                         â”‚
â”‚             â”‚              â”‚                                         â”‚
â”‚             â”‚              â”‚                                         â”‚
â”‚             â–¼              â”‚                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    â”‚  DossierMedical    â”‚  â””â”€â–ºâ”‚   Specialiste      â”‚                â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚    â”‚ â€¢ groupeSanguin    â”‚     â”‚ â€¢ specialite       â”‚                â”‚
â”‚    â”‚ â€¢ allergies        â”‚     â”‚ â€¢ tarif            â”‚                â”‚
â”‚    â”‚                    â”‚     â”‚ â€¢ duree_consult    â”‚                â”‚
â”‚    â”‚ @OneToOne          â”‚     â”‚                    â”‚                â”‚
â”‚    â”‚ patient            â”‚     â”‚ @OneToMany         â”‚                â”‚
â”‚    â”‚                    â”‚     â”‚ creneaux           â”‚                â”‚
â”‚    â”‚ @OneToOne          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚    â”‚ signesVitaux       â”‚                                            â”‚
â”‚    â”‚                    â”‚                                            â”‚
â”‚    â”‚ @OneToMany         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    â”‚ consultations      â”‚     â”‚    Creneau         â”‚                â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚             â”‚                 â”‚ â€¢ dateHeureDebut   â”‚                â”‚
â”‚             â”‚                 â”‚ â€¢ dateHeureFin     â”‚                â”‚
â”‚             â–¼                 â”‚ â€¢ status           â”‚                â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                    â”‚                â”‚
â”‚    â”‚     Patient        â”‚     â”‚ @ManyToOne         â”‚                â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚ specialiste        â”‚                â”‚
â”‚    â”‚ â€¢ nom              â”‚     â”‚                    â”‚                â”‚
â”‚    â”‚ â€¢ prenom           â”‚     â”‚ @OneToOne          â”‚                â”‚
â”‚    â”‚ â€¢ email            â”‚     â”‚ demandeExpertise   â”‚                â”‚
â”‚    â”‚ â€¢ telephone        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚    â”‚ â€¢ dateNaissance    â”‚                                            â”‚
â”‚    â”‚ â€¢ fileAttente      â”‚â—„â”€â”€ CRITICAL FOR WAITING QUEUE             â”‚
â”‚    â”‚                    â”‚                                            â”‚
â”‚    â”‚ @OneToOne          â”‚                                            â”‚
â”‚    â”‚ dossierMedical     â”‚                                            â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ“Š WORKFLOW DIAGRAM                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Patient Arrives â”‚
â”‚ fileAttente=trueâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DASHBOARD PAGE (dashboard.jsp)                                      â”‚
â”‚                                                                      â”‚
â”‚ Stream API Filtering:                                               â”‚
â”‚ patients.stream()                                                    â”‚
â”‚   .filter(Patient::isFileAttente)                                   â”‚
â”‚   .filter(patient -> !hasActiveConsultation(patient))               â”‚
â”‚   .collect(Collectors.toList());                                    â”‚
â”‚                                                                      â”‚
â”‚ Shows: Waiting patients WITHOUT (EN_COURS or EN_ATTENTE_AVIS)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Click "Start Consultation"
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /dashboard/generaliste?action=startConsultation                â”‚
â”‚ GeneralisteServlet.doPost()                                         â”‚
â”‚                                                                      â”‚
â”‚ Creates: new Consultation(status=EN_COURS, cout=150)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CONSULTATION PAGE (consultation.jsp)                                â”‚
â”‚                                                                      â”‚
â”‚ Three Options:                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Save            â”‚  â”‚ Complete        â”‚  â”‚ Request            â”‚  â”‚
â”‚ â”‚ Observations    â”‚  â”‚ Consultation    â”‚  â”‚ Specialist         â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                    â”‚                      â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                    â”‚                      â”‚
           â”‚                    â”‚                      â”‚
      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
      â”‚ Update   â”‚         â”‚ Set      â”‚          â”‚ Select   â”‚
      â”‚ motif &  â”‚         â”‚ diagnosticâ”‚         â”‚ Specialtyâ”‚
      â”‚ observ.  â”‚         â”‚ traitementâ”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚          â”‚         â”‚          â”‚              â”‚
      â”‚ Reload   â”‚         â”‚ Status:  â”‚              â–¼
      â”‚ page     â”‚         â”‚ TERMINEE â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚          â”‚    â”‚ JPQL: SELECT s FROM     â”‚
                           â”‚ fileAtte.â”‚    â”‚ Specialiste s WHERE     â”‚
                           â”‚ = false  â”‚    â”‚ s.specialite = :spec    â”‚
                           â”‚          â”‚    â”‚ ORDER BY s.tarif ASC    â”‚
                           â”‚ Redirect â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ to dash  â”‚         â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ DEMANDE EXPERTISE PAGE      â”‚
                                      â”‚ (demande-expertise.jsp)     â”‚
                                      â”‚                             â”‚
                                      â”‚ Shows specialists           â”‚
                                      â”‚ (sorted by tariff)          â”‚
                                      â”‚                             â”‚
                                      â”‚ Interactive JS:             â”‚
                                      â”‚ â€¢ Click specialist â†’ select â”‚
                                      â”‚ â€¢ Click creneau â†’ select    â”‚
                                      â”‚ â€¢ Both selected â†’ enable    â”‚
                                      â”‚   submit button             â”‚
                                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â”‚ Fill question, priority
                                           â”‚ Click Submit
                                           â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ POST createDemande          â”‚
                                      â”‚                             â”‚
                                      â”‚ Creates:                    â”‚
                                      â”‚ â€¢ DemandeExpertise          â”‚
                                      â”‚ â€¢ Links to Consultation     â”‚
                                      â”‚ â€¢ Sets status:              â”‚
                                      â”‚   EN_ATTENTE_AVIS_          â”‚
                                      â”‚   SPECIALISTE               â”‚
                                      â”‚                             â”‚
                                      â”‚ Redirect to dashboard       â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¯ KEY DESIGN DECISIONS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Stream API for Patient Filtering
   âœ… Used: Complex business logic (check active consultations)
   âœ… Why: Clean, functional, readable code
   âœ… Where: GeneralisteServlet.doGet()

2. JPQL for Specialist Sorting
   âœ… Used: Simple sorting by tariff
   âœ… Why: Database-level is more efficient
   âœ… Where: SpecialisteDao.getSpecialistesBySpecialite()

3. Bidirectional @OneToOne
   âœ… Consultation â†” DemandeExpertise
   âœ… Why: Easy navigation, proper cascade
   âœ… Service layer sets both sides

4. @PrePersist for Default Cost
   âœ… Every consultation = 150 DH by default
   âœ… Why: Automatic, no manual setting needed
   âœ… Where: Consultation.java

5. Separate Servlets
   âœ… GeneralisteServlet: Dashboard + Start
   âœ… ConsultationDetailServlet: Management + Actions
   âœ… Why: Single Responsibility Principle

6. JSP in WEB-INF/views/
   âœ… Protected from direct access
   âœ… Must go through servlets
   âœ… Proper MVC separation

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸ¨ JSP FEATURES                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dashboard.jsp:
  â€¢ Gradient background (purple)
  â€¢ Statistics cards with numbers
  â€¢ Two-column grid (patients | consultations)
  â€¢ Hover effects on cards
  â€¢ Status badges with colors
  â€¢ Empty state messages
  â€¢ User avatar with initials
  â€¢ Responsive design

consultation.jsp:
  â€¢ Patient info sidebar
  â€¢ Vital signs cards
  â€¢ Three separate forms
  â€¢ Form validation
  â€¢ Alert messages
  â€¢ Two-column layout for diagnostic/treatment
  â€¢ Beautiful gradient buttons
  â€¢ Back button

demande-expertise.jsp:
  â€¢ Specialist cards grid
  â€¢ Tariff badges (sorted)
  â€¢ Interactive selection with JavaScript:
    - Click card â†’ select specialist
    - Click creneau chip â†’ select time
    - Visual feedback (green when selected)
  â€¢ Selection summary box
  â€¢ Form validation (can't submit without selections)
  â€¢ Creneau filtering (future + LIBRE only)
  â€¢ Empty state handling

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ğŸ“ˆ STATUS LEGEND                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

StatutConsultation:
  EN_ATTENTE              â†’ Not started (not used in this module)
  EN_COURS                â†’ Active consultation ğŸŸ¡
  EN_ATTENTE_AVIS_SPECIALISTE â†’ Waiting for specialist ğŸ”µ
  TERMINEE                â†’ Completed âœ…

DemandePrioritee:
  URGENTE                 â†’ Urgent ğŸ”´
  NORMALE                 â†’ Normal ğŸŸ¡
  NON_URGENTE             â†’ Low priority ğŸŸ¢

DemandeStatus:
  EN_ATTENTE              â†’ Pending (waiting for specialist response)
  TRAITEE                 â†’ Treated (specialist responded - out of scope)

Patient.fileAttente:
  TRUE                    â†’ In waiting queue, shows on dashboard
  FALSE                   â†’ Not in queue, doesn't show

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âœ… COMPLETION SUMMARY                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Backend:
  âœ… 2 entities updated (Consultation, DemandeExpertise)
  âœ… 1 enum updated (StatutConsultation)
  âœ… 3 DAO interfaces created
  âœ… 3 DAO implementations created
  âœ… 1 service interface created
  âœ… 1 service implementation created
  âœ… 2 servlets created

Frontend:
  âœ… 3 JSP pages created with full styling
  âœ… JavaScript for interactive selection
  âœ… JSTL for dynamic content
  âœ… Responsive CSS
  âœ… Empty state handling

Features:
  âœ… Login as gÃ©nÃ©raliste
  âœ… View dashboard with waiting patients
  âœ… Start consultation
  âœ… Save observations
  âœ… Complete consultation
  âœ… Request specialist advice
  âœ… Filter specialists by specialty
  âœ… Sort specialists by tariff
  âœ… Select specialist and time slot
  âœ… Create demande expertise
  âœ… Status management
  âœ… Patient queue management

Code Quality:
  âœ… Clean architecture
  âœ… Stream API where appropriate
  âœ… JPQL for efficient queries
  âœ… Proper exception handling
  âœ… Transaction management
  âœ… Bidirectional relationships
  âœ… Jakarta EE 10+ compatible

Documentation:
  âœ… GENERALISTE_MODULE_COMPLETE.md (overview)
  âœ… GENERALISTE_TESTING_GUIDE.md (testing)
  âœ… GENERALISTE_QUICK_REFERENCE.md (quick ref)
  âœ… GENERALISTE_ARCHITECTURE.md (this file)

TOTAL: ~2000+ lines of code | 18 files | PRODUCTION READY ğŸš€
```
